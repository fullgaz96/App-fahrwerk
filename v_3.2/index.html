<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>🏍️ Fahrwerks-App v3.3</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- Header -->
  <header>
    <button id="menuBtn">☰</button>
    <h1>Fahrwerks-App</h1>
  </header>

  
  <!-- Sidebar -->
<aside id="sidebar">
  <h2>Menü</h2>

<button onclick="showPage('anleitung', this)">📖 Anleitung</button>


  <!-- Leitfaden -->
  <button onclick="showPage('leitfaden', this)">📘 Leitfaden</button>

  <!-- Fahrwerk mit Unterpunkten -->
<div class="menu-group">
  <button class="main-btn" onclick="openFirstSubpage('fahrwerkSub','fahrwerk',this)">
    ⚙️ Fahrwerk
  </button>
  <span class="arrow" onclick="toggleSubmenu('fahrwerkSub', this)">▶</span>
</div>
<div id="fahrwerkSub" class="submenu">
  <button onclick="showPage('fahrwerk', this)">Fahrwerksdaten</button>
  <button onclick="showPage('historie', this)">Historie</button>
  <button onclick="showPage('reifenlager', this)">Reifenlager</button>
  <button onclick="showPage('luftdruck', this)">Luftdrucktabelle</button>
</div>

  <!-- Weitere Hauptpunkte -->
  <button onclick="showPage('strecken', this)">🏁 Meine Strecken</button>
  <button onclick="showPage('kalender', this)">📅 Mein Kalender</button>

  <!-- Einstellungen -->
  <button onclick="toggleSubmenu('settingsSub')">⚙️ Einstellungen</button>
  
  </div>
</aside>
<div id="overlay"></div>


  <!-- Main Content -->
  <main>


       <!-- Anleitung -->
<div id="anleitung" class="page active">
  <h2>📖 Anleitung</h2>
  <p>Willkommen in der Fahrwerks-App v3.3! 🎉  
     Diese App hilft dir, deine Fahrwerks-Setups, Reifen und Trackday-Daten
     systematisch zu erfassen und auszuwerten.</p>

  <h3>🔹 So benutzt du die App:</h3>
  <ol>
    <li>Wähle im Menü <b>Fahrwerk</b> und trage deine aktuellen Werte ein.</li>
    <li>Speichere deine Daten regelmäßig über <b>💾 Speichern</b>.</li>
    <li>Vergleiche deine Setups später in der <b>Historie</b>.</li>
    <li>Behalte den Überblick über deine Reifen im <b>Reifenlager</b>.</li>
    <li>Nutze die <b>Luftdrucktabelle</b> als Referenz für Herstellerwerte.</li>
  </ol>

  <h3>🔹 Bereiche im Detail:</h3>
  <ul>
    <li><b>Fahrwerk:</b> Alle Setup-Daten von Gabel, Federbein, Antrieb.</li>
    <li><b>Historie:</b> Vergangene Setups, Unterschiede und Bemerkungen.</li>
    <li><b>Reifenlager:</b> Verwaltung deiner Reifen inkl. Turns und Heizzyklen.</li>
    <li><b>Luftdruck:</b> Herstellerangaben für kalten und warmen Druck.</li>
    <li><b>Strecken:</b> Hier kannst du später deine bevorzugten Rennstrecken erfassen.</li>
    <li><b>Kalender:</b> Eigene Trackday- und Renntermine verwalten.</li>
    <li><b>Einstellungen:</b> Später Optionen wie Theme oder Import/Export.</li>
  </ul>

  <h3>💡 Tipps:</h3>
  <ul>
    <li>Notiere Bemerkungen wie „Front instabil“ oder „mehr Grip hinten“ direkt im Fahrwerk-Bereich.</li>
    <li>Verwende den Kabelbinder an der Gabel, um den genutzten Federweg zu sehen.</li>
    <li>Dokumentiere kleine Änderungen konsequent – so findest du dein perfektes Setup schneller.</li>
  </ul>
</div>

    <!-- Meine Strecken -->
<div id="strecken" class="page">
  <h2>🏁 Meine Strecken</h2>
  <p>Hier kannst du deine gefahrenen Strecken verwalten.</p>

  <h3>🔹 Geplante Funktionen:</h3>
  <ul>
    <li>Auswahl der Strecken, die du gefahren bist.</li>
    <li>Anzeige deiner <b>5 besten Rundenzeiten oder Sessions</b> pro Strecke.</li>
    <li>Verknüpfung mit den <b>Fahrwerksdaten</b>, um zu sehen, welches Setup zu welcher Zeit geführt hat.</li>
    <li>Möglichkeit zum <b>Vergleich mit Freunden oder der Community</b> (z. B. Leaderboards).</li>
  </ul>

  <h3>💡 Weitere Ideen:</h3>
  <ul>
    <li><b>Strecken-Notizen:</b> Tipps zu Linien, Schaltpunkten oder Besonderheiten der Strecke.</li>
    <li><b>Strecken-Setup-Bibliothek:</b> Basis-Setups pro Strecke speichern und schnell wiederfinden.</li>
    <li><b>Wetterbezug:</b> Rundenzeiten + Setup mit Wetterbedingungen verknüpfen (z. B. heiß, kalt, nass).</li>
    <li><b>Team-/Community-Funktion:</b> Durchschnittszeiten, Team-Setup-Vergleich, anonyme Benchmarks.</li>
  </ul>
</div>

    <!-- Mein Kalender -->
<div id="kalender" class="page">
  <h2>📅 Mein Kalender</h2>
  <p>Hier kannst du deine Trackdays und Rennen eintragen.</p>

  <h3>🔹 Geplante Funktionen:</h3>
  <ul>
    <li>Übersicht über deine Trackday- und Renntermine.</li>
    <li>Monats- oder Wochenansicht für eine bessere Planung.</li>
  </ul>

  <h3>💡 Weitere Ideen:</h3>
  <ul>
    <li><b>Verknüpfung mit Strecken:</b> Eintrag im Kalender (z. B. Oschersleben) verlinkt automatisch zu den Strecken-Infos.</li>
    <li><b>Setup-Vorbereitung:</b> Automatische Erinnerung an das letzte gefahrene Setup auf dieser Strecke.</li>
    <li><b>Export/Import:</b> Kalenderdaten später per iCal exportieren oder mit Google/Outlook synchronisieren.</li>
    <li><b>Teilen:</b> Kalender mit Freunden oder Teammitgliedern freigeben.</li>
  </ul>
</div>


    <!-- Fahrwerk -->
    <div id="fahrwerk" class="page">
      <h2>⚙️ Fahrwerksdaten</h2>
      <div style="margin-bottom:15px;">
        <button class="btn" onclick="saveAll()">💾 Speichern</button>
        <button class="btn" onclick="loadAll()">📂 Laden</button>
        <button class="btn" onclick="exportCSV('fahrwerk')">📊 Export CSV</button>
      </div>

      <!-- Grunddaten -->
      <fieldset>
        <legend>Grunddaten</legend>
        <label>Motorrad</label>
        <select id="motorrad">
          <option value="GSX-R 750">GSX-R 750</option>
          <option value="SV 650">SV 650</option>
          <option value="GS 500E">GS 500E</option>
        </select>
        <label>Rennstrecke</label>
        <select id="strecke">
          <option value="">-- wählen --</option>
          <option value="OSL">Oschersleben</option>
          <option value="SAC">Sachsenring</option>
          <option value="STC">Spreewaldring</option>
          <option value="GD">Groß Dölln</option>
          <option value="MST">Most</option>
          <option value="HARZ">Harzring</option>
          <option value="HDBR">Heidbergring</option>
          <option value="BRN">Brünn</option>
          <option value="LSR">Lausitzring</option>
          <option value="TPZ">Tor Poznań</option>
        </select>
        <label>Session</label>
        <select id="session">
          <option value="Training">Training</option>
          <option value="Quali">Qualifikation</option>
          <option value="Rennen">Rennen</option>
          <option value="Instruktion">Instruktion</option>
        </select>
        <label>Datum</label><input type="date" id="datum" />
        <label>Betriebsstunden</label><input type="number" id="betriebsstunden" />
        <label>Kilometerstand</label><input type="number" id="kilometerstand" />
        <label>Bestzeit</label>
        <div style="display:flex; gap:6px;">
          <input type="number" id="bestzeitMin" placeholder="Min" min="0" style="flex:1;" />
          <input type="number" id="bestzeitSek" placeholder="Sek" min="0" max="59" style="flex:1;" />
          <input type="number" id="bestzeitZehntel" placeholder="Zehntel" min="0" max="9" style="flex:1;" />
        </div>
      </fieldset>

      <!-- Reifen -->
      <fieldset>
        <legend>Reifen</legend>
        <label>Vorne</label>
        <div class="inline-controls">
          <select id="reifenVorne"></select>
          <span class="reifen-buttons">
            <button class="green" onclick="updateSelectedReifen('vorne','turns',1)">+T</button>
            <button class="red" onclick="updateSelectedReifen('vorne','turns',-1)">-T</button>
            <button class="green" onclick="updateSelectedReifen('vorne','heizzyklen',1)">+H</button>
            <button class="red" onclick="updateSelectedReifen('vorne','heizzyklen',-1)">-H</button>
          </span>
        </div>
        <label>Hinten</label>
        <div class="inline-controls">
          <select id="reifenHinten"></select>
          <span class="reifen-buttons">
            <button class="green" onclick="updateSelectedReifen('hinten','turns',1)">+T</button>
            <button class="red" onclick="updateSelectedReifen('hinten','turns',-1)">-T</button>
            <button class="green" onclick="updateSelectedReifen('hinten','heizzyklen',1)">+H</button>
            <button class="red" onclick="updateSelectedReifen('hinten','heizzyklen',-1)">-H</button>
          </span>
        </div>
        <label>Luftdruck vorne</label>
        <input type="number" id="luftdruckVorne" step="0.1" />
        <label>Luftdruck hinten</label>
        <input type="number" id="luftdruckHinten" step="0.1" />
      </fieldset>

      <!-- Gabel + Federbein -->
      <div style="display:flex; gap:20px;">
        <fieldset style="flex:1;">
          <legend>Gabel</legend>
          <label>Gabelhöhe (mm)</label><input type="number" id="gabelHoehe" />
          <label>SAG statisch (mm)</label><input type="number" id="sagVStatisch" />
          <label>SAG dynamisch (mm)</label><input type="number" id="sagVDynamisch" />
          <label>Federrate (N/mm)</label><input type="number" id="federV" step="0.1" />
          <label>Federvorspannung (mm)</label><input type="number" id="vorspannungV" />
          <label>Druckstufe (Klicks)</label><input type="number" id="druckV" step="0.1" />
          <label>Zugstufe (Umdr)</label><input type="number" id="zugV" step="0.1" />
          <label>Ölviskosität</label>
          <select id="oelViskositaet">
            <option>5W</option><option>7.5W</option><option>10W</option>
            <option>12.5W</option><option>15W</option><option>17.5W</option><option>20W</option>
          </select>
          <label>Luftpolster (mm)</label><input type="number" id="luftpolster" />
          <label>Bemerkungen Gabel</label><textarea id="gabelBem"></textarea>
        </fieldset>

        <fieldset style="flex:1;">
          <legend>Federbein</legend>
          <label>Heckhöhe (mm)</label><input type="number" id="heckhoehe" />
          <label>SAG statisch (mm)</label><input type="number" id="sagHStatisch" />
          <label>SAG dynamisch (mm)</label><input type="number" id="sagHDynamisch" />
          <label>Federrate (N/mm)</label><input type="number" id="federH" step="0.1" />
          <label>Federvorspannung (mm)</label><input type="number" id="vorspannungH" />
          <label>Druckstufe (LS/HS Klicks)</label>
          <div class="row">
            <input type="number" id="druckH_ls" step="0.1" placeholder="LS" />
            <input type="number" id="druckH_hs" step="0.1" placeholder="HS" />
          </div>
          <label>Zugstufe (Klicks)</label><input type="number" id="zugH" step="0.1" />
          <label>Bemerkungen Federbein</label><textarea id="federBem"></textarea>
        </fieldset>
      </div>

      <!-- Antrieb -->
      <fieldset>
        <legend>Antrieb</legend>
        <label>Übersetzung (Zähne)</label>
        <div style="display:flex;gap:6px;">
          <input type="number" id="ritzel" placeholder="z. B. 16" />
          <span>/</span>
          <input type="number" id="kettenrad" placeholder="z. B. 44" />
        </div>
        <label>Kettenglieder</label><input type="number" id="glieder" />
        <label>Bemerkungen Antrieb</label><textarea id="antriebBem"></textarea>
      </fieldset>

      <!-- Gesamt -->
      <fieldset>
        <legend>Bemerkungen Gesamt</legend>
        <textarea id="gesamtBem" placeholder="z. B. Vorderrad instabil"></textarea>
      </fieldset>
    </div>

    <!-- Historie -->
    <div id="historie" class="page">
      <h2>📜 Historie</h2>
      <div style="margin-bottom:10px;">
        <button class="btn" onclick="exportCSV('historie')">📊 Export CSV</button>
      </div>
      <div id="historieList"></div>
    </div>

    <!-- Reifenlager -->
    <div id="reifenlager" class="page">
      <h2>🛞 Reifenlager</h2>
      <fieldset>
        <legend>Neuen Reifen hinzufügen</legend>
        <label>Name</label><input type="text" id="rl_name" />
        <label>Breite</label>
        <select id="rl_breite">
          <option value="">-- wählen --</option>
          <option>110</option><option>120</option><option>140</option>
          <option>160</option><option>180</option><option>190</option><option>200</option>
        </select>
        <label>Mischung</label><input type="text" id="rl_mischung" placeholder="z. B. SC1" />
        <button class="btn" onclick="addReifen()">+ Reifen</button>
      </fieldset>
      <div id="reifenlagerList"></div>
    </div>

    <!-- Luftdruck -->
    <div id="luftdruck" class="page">
      <h2>💨 Luftdrucktabelle</h2>
      <div style="margin-bottom:10px;">
        <label>Hersteller</label>
        <select id="db_hersteller" onchange="filterReifenDB()"></select>
        <input type="text" id="db_hersteller_new" placeholder="Neuer Hersteller" style="display:none;" />
        <label>Position</label>
        <select id="db_position" onchange="filterReifenDB()"></select>
      </div>
      <table border="1" cellspacing="0" cellpadding="6" style="width:100%; text-align:center; margin-bottom:15px;">
        <thead>
          <tr>
            <th>Hersteller</th><th>Modell</th><th>Position</th>
            <th>Dimension</th><th>Warm</th><th>Kalt</th><th>Aktion</th>
          </tr>
        </thead>
        <tbody id="reifenDBBody"></tbody>
      </table>
      <fieldset style="margin-top:20px;">
        <legend>Neuen Reifen zur Datenbank hinzufügen</legend>
        <label>Hersteller</label>
        <select id="db_add_hersteller"></select>
        <input type="text" id="db_add_hersteller_new" placeholder="Neuer Hersteller" style="display:none;" />
        <label>Modell</label><input type="text" id="db_add_modell" placeholder="z. B. Power Cup 2" />
        <label>Position</label>
        <select id="db_add_pos">
          <option value="Vorne">Vorne</option>
          <option value="Hinten">Hinten</option>
        </select>
        <label>Dimension</label><input type="text" id="db_add_dim" placeholder="z. B. 120/70" />
        <label>Warm</label><input type="text" id="db_add_warm" placeholder="z. B. 2,4" />
        <label>Kalt</label><input type="text" id="db_add_kalt" placeholder="z. B. 2,1" />
        <button class="btn" onclick="addReifenDB()">+ Reifen hinzufügen</button>
      </fieldset>
    </div>

    <!-- Leitfaden -->
    <div id="leitfaden" class="page">
      <h2>📘 Leitfaden</h2>
      <div class="accordion">
  <!-- Level 1 -->
  <button class="accordion-header lvl1">Level 1 – Einsteiger</button>
  <div class="accordion-body">
    <button class="step-header">1. Reifen & Safety</button>
    <div class="step-body">
      <p><b>Warum wichtig:</b> Reifen und Technik sind die Grundlage. Fehler hier machen jedes Setup wertlos.</p>
      <ul>
        <li>Luftdruck beim Reifenservice / Hersteller einstellen (kalt/warm notieren).</li>
        <li>Kette prüfen: 3–4 cm Spiel.</li>
        <li>Bremsen checken: Belagstärke, Dichtigkeit, Hebelweg.</li>
        <li>Ölverlust prüfen, Schrauben nachsehen.</li>
      </ul>
    </div>

    <button class="step-header">2. SAG grob einstellen</button>
    <div class="step-body">
      <p><b>Werte:</b> Vorne 30–40 mm, Hinten 25–35 mm.</p>
      <p><b>So messen:</b> Motorrad entlastet messen → Fahrer drauf → Differenz = SAG.</p>
      <p><b>Zu viel SAG:</b> zu weich, Vorspannung erhöhen.<br><b>Zu wenig:</b> zu hart, Vorspannung reduzieren.</p>
    </div>

    <button class="step-header">3. Federweg-Kontrolle (Kabelbinder)</button>
    <div class="step-body">
      <p>Kabelbinder an die Gabel. Optimal: 5–10 mm Restfederweg. Ganz unten = auf Block → zu weich.</p>
    </div>

    <button class="step-header">4. Dämpfung auf Standardwerte</button>
    <div class="step-body">
      <p>Alle Klicks vorsichtig bis Anschlag reindrehen, dann auf Herstellerwerte herausdrehen. Keine wilden Experimente.</p>
    </div>

    <button class="step-header">5. Fokus beim Fahren</button>
    <div class="step-body">
      <p>Linie, Blickführung, Körperhaltung, Konstanz. Lieber 5 gleichmäßige Runden als eine schnelle + 4 unsichere.</p>
    </div>

    <button class="step-header">6. Dokumentation</button>
    <div class="step-body">
      <p>Minimal-Logbuch: Datum, Strecke, Reifen, kurzer Eindruck („sicher/unsicher“).</p>
    </div>
  </div>

  <!-- Level 2 -->
  <button class="accordion-header lvl2">Level 2 – Fortgeschrittene</button>
  <div class="accordion-body">
    <button class="step-header">1. SAG präzise einstellen</button>
    <div class="step-body">
      <p>Vorne 30–35 mm, Hinten 25–30 mm. Mehrfach messen, Feder passend zum Gewicht wählen.</p>
    </div>

    <button class="step-header">2. Federweg-Nutzung</button>
    <div class="step-body">
      <p>Vorne: 5–10 mm Rest nach Bremsung. Hinten: darf gelegentlich Puffer berühren, nicht dauernd.</p>
    </div>

    <button class="step-header">3. Druckstufe (Compression)</button>
    <div class="step-body">
      <p>Vorne: zu weich → taucht tief, zu hart → rutscht über Wellen.<br>Hinten: zu weich → setzt sich stark, zu hart → bockig.</p>
      <p><b>Vorgehen:</b> von Standard aus in 2-Klick-Schritten variieren, Eindruck notieren.</p>
    </div>

    <button class="step-header">4. Zugstufe (Rebound)</button>
    <div class="step-body">
      <p>Vorne: zu wenig → wippt, zu viel → bleibt unten. Hinten: zu wenig → pumpt, zu viel → klebt.</p>
      <p><b>Vorgehen:</b> erst Extreme spüren, dann 2-Klick-Schritte.</p>
    </div>

    <button class="step-header">5. Geometrie feinjustieren</button>
    <div class="step-body">
      <p>Gabeldurchsteckung: mehr → wendiger, weniger → stabiler.<br>Heckhöhe: höher = schärferes Einlenken.<br>Radstand: kürzer = agil, länger = stabil.</p>
    </div>

    <button class="step-header">6. Dokumentation & Iteration</button>
    <div class="step-body">
      <p>Notiere: Änderung, Gefühl, Kabelbinderstände, Bestzeit/Delta. Nach mehreren Sessions bestes Setup sichern.</p>
    </div>
  </div>

  <!-- Level 3 -->
  <button class="accordion-header lvl3">Level 3 – Racer</button>
  <div class="accordion-body">
    <button class="step-header">1. SAG & Federweg als Referenz</button>
    <div class="step-body">
      <p>Zahlen dienen nur als Orientierung. Entscheidend sind Vertrauen und Rundenzeit.</p>
    </div>

    <button class="step-header">2. Federweg interpretieren</button>
    <div class="step-body">
      <p>Immer mit Reifenbild + Datarecording kombinieren. Vorne 5–10 mm Rest, hinten gelegentlich Puffer.</p>
    </div>

    <button class="step-header">3. Dämpfung feinabstimmen</button>
    <div class="step-body">
      <p>High-/Low-Speed getrennt: Low-Speed fürs Nicken, High-Speed für Curbs/Wellen. Kleinste Schritte (1 Klick).</p>
    </div>

    <button class="step-header">4. Geometrie optimieren</button>
    <div class="step-body">
      <p>Lenkkopfwinkel, Nachlauf, Radstand, Heckhöhe bewusst pro Strecke variieren. Kleine Schritte!</p>
    </div>

    <button class="step-header">5. Analyse-Tools nutzen</button>
    <div class="step-body">
      <p>Datarecording: Bremswege, Apex-Speed, Exit-Speed vergleichen. Reifenbild: Gripverlust vs. Temperatur.</p>
    </div>

    <button class="step-header">6. Streckensetups anlegen</button>
    <div class="step-body">
      <p>Pro Strecke eigenes Grundsetup sichern, Versionen anlegen (v1, v2…). Notizen zu Wetter, Reifen, Zeiten.</p>
    </div>
  </div>
</div>

    </div>

    <!-- Einstellungen -->
    <div id="einstellungen" class="page">
      <h2>⚙️ Einstellungen</h2>
      <p>Hier kannst du später Themes, Optionen und mehr einstellen.</p>
    </div>
  </main>

  <!-- JS einbinden -->
  <script src="app.js"></script>
</body>
</html>
